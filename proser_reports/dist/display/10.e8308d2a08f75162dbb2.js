(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{VgvN:function(_,e,t){"use strict";t.r(e);var n=t("8AiQ"),r=t("PJLp"),s=t.n(r),i=t("1C3z"),o=t("ruJL"),a=t("ZSGP"),c=t("8qUp"),l=t("BYtS"),p=t("aLj8"),E=t("JjjS"),d=t("9o7S"),g=t("HDHg"),u=t("5/c3"),M=t("k5pS"),O=t("IXvK"),D=t("gv9p"),P=[{path:"",component:function(){function _(_,e,t){this.alertService=_,this.envService=e,this.userSelectionService=t,this.userSelection=new M.b("standard"),this.selectorVisibleFields=new M.b("visible"),this.title="Display agentes"}return _.prototype.ngOnInit=function(){this.userSelection.title!==this.title&&this.setReportTitles()},_.prototype.setReportTitles=function(){this.userSelection.title=this.title,this.userSelectionService.writeUserSelectionHistoric(this.userSelection),this.selectorVisibleFields.assignation=!1,this.selectorVisibleFields.auxiliar=!1},_.ɵfac=function(e){return new(e||_)(i.hc(O.a),i.hc(O.c),i.hc(O.d))},_.ɵcmp=i.bc({type:_,selectors:[["app-display-display-agents"]],decls:1,vars:2,consts:[[3,"userSelection","selectorVisibleFields"]],template:function(_,e){1&_&&i.ic(0,"app-display-display-agents-list",0),2&_&&i.Jc("userSelection",e.userSelection)("selectorVisibleFields",e.selectorVisibleFields)},directives:[D.a],styles:[""]}),_}(),children:[]}],h=function(){function _(){}return _.ɵmod=i.fc({type:_}),_.ɵinj=i.ec({factory:function(e){return new(e||_)},imports:[[u.e.forChild(P)],u.e]}),_}(),m=t("IBbj");t.d(e,"DisplayAgentsModule",(function(){return C})),Object(n.C)(s.a,"es");var C=function(){function _(){}return _.ɵmod=i.fc({type:_}),_.ɵinj=i.ec({factory:function(e){return new(e||_)},providers:[{provide:i.F,useValue:"es"}],imports:[[n.c,o.a,a.f,a.o,p.d.forRoot(),E.b,l.e,c.b,d.a,g.a,m.b,h]]}),_}()},gv9p:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DisplayAgentsListComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("1C3z"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("LR82"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("0cIN"),moment__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("wgY5"),moment__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__),shared_functions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("j2Hr"),shared_models_helpers_Alert__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("LgNh"),shared_models__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("k5pS"),sections_display_src_shared_models___WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("KUDs"),sections_display_src_shared_services___WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("lSgf"),shared_services__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("IXvK"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("aLj8"),_shared_modules_alert_alert_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("Uj1/"),_shared_modules_display_header_display_header_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("aymL"),_angular_common__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("8AiQ");function DisplayAgentsListComponent_li_5_Template(_,e){if(1&_&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.nc(0,"li"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nc(1,"h1"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(2,"i",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ed(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nc(4,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nc(5,"p",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ed(6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nc(7,"p",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ed(8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ec(9,"percent"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nc(10,"p",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ed(11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc()),2&_){var t=e.$implicit,n=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Dc();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.gd("  ",t.agent_name,""),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hd(" ",t.rca_agent_status,"-",t.rca_group_name,""),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.gd(" ",_angular_core__WEBPACK_IMPORTED_MODULE_0__.Fc(9,5,t.value/n.rows.agentsConnectedTotal[0].agentsConnectedTotal)," "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.gd("  ",t.name," ")}}var DisplayAgentsListComponent=function(){function DisplayAgentsListComponent(_,e,t,n,r){this.displayAgentsIndicatorsService=_,this.alertService=e,this.envService=t,this.modalService=n,this.userSelectionService=r,this.subscription=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a,this.alertMessage=new shared_models_helpers_Alert__WEBPACK_IMPORTED_MODULE_5__.a,this.show_columns=!1,this.show=!1,this.selected=[],this.historic=!1,this.graph=!1,this.show_graph_or_table_button=!1,this.env=t,this.model=new sections_display_src_shared_models___WEBPACK_IMPORTED_MODULE_7__.a,this.local_store="assignation",this.selectorVisibleFields=new shared_models__WEBPACK_IMPORTED_MODULE_6__.b("visible"),this.selectorVisibleFields.assignation=!1,this.selectorVisibleFields.auxiliar=!1,this.currentDate=moment__WEBPACK_IMPORTED_MODULE_3__(new Date).format("YYYY-MM-DD"),this.rows=new sections_display_src_shared_models___WEBPACK_IMPORTED_MODULE_7__.b,this.rows_original=new sections_display_src_shared_models___WEBPACK_IMPORTED_MODULE_7__.b}return DisplayAgentsListComponent.prototype.ngOnInit=function(){this.userSelection=new shared_models__WEBPACK_IMPORTED_MODULE_6__.b("userSelection"),this.getReportList(this.userSelection),this.filterFieldList=this.model.fieldList(),this.numberOfRowsInTable={id:10,value:10},this.exportName="reporte-conexión",this.initialSelectedFilterField={field_name:"start_date",name:"fecha_inicio",text:"Fecha desde"},this.onRepeat()},DisplayAgentsListComponent.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},DisplayAgentsListComponent.prototype.onRepeat=function(){var _=this,e=Object(rxjs__WEBPACK_IMPORTED_MODULE_2__.a)(1e3,5e3),t=Object(rxjs__WEBPACK_IMPORTED_MODULE_2__.a)(1e3,1e3);this.getReportList(this.userSelection),this.subscription.add(e.subscribe((function(){Object(shared_functions__WEBPACK_IMPORTED_MODULE_4__.c)(_.userSelection.start_date)===_.currentDate&&_.getReportList(_.userSelection)}))),t.subscribe((function(){_.timerConnected=_.timerConnected+1}))},DisplayAgentsListComponent.prototype.getReportList=function(_){var e=this;_&&this.displayAgentsIndicatorsService.getReportList(_).subscribe((function(t){e.timerConnected=0,e.historic=e.currentDate!==Object(shared_functions__WEBPACK_IMPORTED_MODULE_4__.c)(_.start_date),t?e.rows=t:console.error("Error",t),e.alertMessage=new shared_models_helpers_Alert__WEBPACK_IMPORTED_MODULE_5__.a}),(function(_){console.error("Error",_),e.show=!1,e.alertService.error(_.status),e.alertMessage.alertTitle="Error del servidor",e.alertMessage.alertText=_.statusText,e.alertMessage.alertShow=!0,e.alertMessage.alertClass="alert alert-danger alert-dismissible fade show"}))},DisplayAgentsListComponent.prototype.openDetailModal=function(_,e){this.activeModal=this.modalService.open(_,{windowClass:"my-class",keyboard:!1})},DisplayAgentsListComponent.prototype.onShowHideGraphButtons=function(){this.graph=!this.graph,this.show_graph_or_table_button=!this.show_graph_or_table_button},DisplayAgentsListComponent.prototype.onActivate=function(_){this.row_selection=_.row},DisplayAgentsListComponent.prototype.onSelect=function(_){this.selected=_.selected},DisplayAgentsListComponent.prototype.onReturnHeaderResult=function(_){this.userSelection=new shared_models__WEBPACK_IMPORTED_MODULE_6__.b("userSelection"),this.getReportList(this.userSelection),this.show_graph_or_table_button=!1},DisplayAgentsListComponent.prototype.onRecalculate=function(_){this.userSelection=new shared_models__WEBPACK_IMPORTED_MODULE_6__.b("userSelection"),this.getReportList(this.userSelection),this.show_graph_or_table_button=!1,console.error("this.rows",this.rows)},DisplayAgentsListComponent.prototype.onReturnNumberOfRowsInTable=function(_){console.error("event",_),this.numberOfRowsInTable=_},DisplayAgentsListComponent.prototype.onReturnRowsForTable=function(_){this.rows=_},DisplayAgentsListComponent.prototype.onObjectToArray=function(_){var e,t=_[0];return void 0!==t&&(e=Object.entries(t).map((function(_){return{key:_[0],value:_[1]}}))),e},DisplayAgentsListComponent.prototype.onCreateModel=function(model){model=(new sections_display_src_shared_models___WEBPACK_IMPORTED_MODULE_7__.a).fieldList(),console.error("model",model);var obj={};model.map((function(_){obj[""+_.name]="x."+_.field_name}));var newModel=JSON.stringify(obj),newModel2=JSON.stringify(newModel.replace(/\"/g,"").replace(/:/g,": ").replace(/,/g,",\n ")),model3=eval(newModel2);console.error("model",model3)},DisplayAgentsListComponent.prototype.openModal=function(_){},DisplayAgentsListComponent.ɵfac=function(_){return new(_||DisplayAgentsListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.hc(sections_display_src_shared_services___WEBPACK_IMPORTED_MODULE_8__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hc(shared_services__WEBPACK_IMPORTED_MODULE_9__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hc(shared_services__WEBPACK_IMPORTED_MODULE_9__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hc(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hc(shared_services__WEBPACK_IMPORTED_MODULE_9__.d))},DisplayAgentsListComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.bc({type:DisplayAgentsListComponent,selectors:[["app-display-display-agents-list"]],inputs:{userSelection:"userSelection",selectorVisibleFields:"selectorVisibleFields"},decls:6,vars:5,consts:[[3,"alertMessage"],[3,"userSelection","selectorVisibleFields","timerConnected","returnResult"],[4,"ngFor","ngForOf"],[1,"fas","fa-user"],[1,"element"],[1,"small"],[1,"indicadores-porcentaje"],[1,"indicadores-descripcion","text-left"]],template:function(_,e){1&_&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.nc(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ic(1,"app-alert",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nc(2,"app-display-display-header",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.zc("returnResult",(function(_){return e.onReturnHeaderResult(_)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nc(3,"section"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nc(4,"ul"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cd(5,DisplayAgentsListComponent_li_5_Template,12,7,"li",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc()),2&_&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Jc("alertMessage",e.alertMessage),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Jc("userSelection",e.userSelection)("selectorVisibleFields",e.selectorVisibleFields)("timerConnected",e.timerConnected),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Jc("ngForOf",e.rows.agentsConnectedByGroup))},directives:[_shared_modules_alert_alert_component__WEBPACK_IMPORTED_MODULE_11__.a,_shared_modules_display_header_display_header_component__WEBPACK_IMPORTED_MODULE_12__.a,_angular_common__WEBPACK_IMPORTED_MODULE_13__.n],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_13__.u],styles:[".frame[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:5px;min-height:50vh}.tablegraph[_ngcontent-%COMP%]{margin:0;padding:3px}.tablegraph-subtitles[_ngcontent-%COMP%]{margin:200;padding:3px 0 .5rem;background:#d3d3d3;font-size:1.2rem;font-weight:400;text-align:center}.tablegraph-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:4fr 1fr;margin:0;padding:5px 5px 0}.tablegraph-table[_ngcontent-%COMP%]:hover{color:#242488;border:1px solid #5e5b5b;border-radius:5px;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.tablegraph-table[_ngcontent-%COMP%]:nth-child(even){background:#f2f2f2}.tablegraph-table[_ngcontent-%COMP%]:nth-child(odd){background:#fff}.tablegraph-table[_ngcontent-%COMP%]:first-child{background:#f2f2f2;margin-top:10px}.tablegraph-table[_ngcontent-%COMP%]:last-child{background:#fff;margin-bottom:10px}.tablegraph-text[_ngcontent-%COMP%]{font-size:1rem;padding:5px 20px 0 0;color:#495057}.tablegraph-number[_ngcontent-%COMP%]{text-align:right;font-size:1.4rem;font-weight:400;padding-top:0}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-width:1200px){.tablegraph-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:4fr 1fr;margin:0;padding:5px 5px 0}}@media screen and (max-width:992px){.tablegraph-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 1fr;margin:0;padding:5px 5px 0}}@media screen and (max-width:768px){.tablegraph-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;margin:0;padding:5px 5px 0}}@media screen and (max-width:576px){.tablegraph-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;margin:0;padding:5px 5px 0}}.table[_ngcontent-%COMP%]{display:flex}.element[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 4fr;grid-gap:1px 5px 1px 1px}.indicadores[_ngcontent-%COMP%]{margin:10px;font-size:1rem;color:gray}.indicadores-cantidad[_ngcontent-%COMP%]{font-size:1.5rem;max-width:40%}.indicadores-descripcion[_ngcontent-%COMP%]{max-width:50%}.indicadores-porcentaje[_ngcontent-%COMP%]{max-width:10%}.indicadores-subtitles[_ngcontent-%COMP%]{margin:200;padding:3px 0 .5rem;background:#d3d3d3;font-size:1rem;font-weight:400;text-align:center}"]}),DisplayAgentsListComponent}()}}]);
//# sourceMappingURL=10.e8308d2a08f75162dbb2.js.map