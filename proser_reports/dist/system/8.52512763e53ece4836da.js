(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"2K0K":function(e,t,n){"use strict";n.r(t);var i=n("1C3z"),o=n("8AiQ"),r=n("ZSGP"),c=n("BYtS"),s=n("JjjS"),a=n("ruJL"),d=n("5/c3"),l=n("k5pS"),f=n("j2Hr"),m=n("IXvK"),u=n("Uj1/");function p(e,t){if(1&e){var n=i.oc();i.nc(0,"p",15),i.zc("click",(function(e){return i.Uc(n),(0,t.sortFn)(e,t.sortDir,i.Dc(2).sortFn)})),i.dd(1),i.mc()}if(2&e){var o=i.Dc(2);i.Tb(1),i.fd(" ",o.model.fieldInfo("id").text," ")}}function g(e,t){if(1&e&&(i.nc(0,"p",16),i.dd(1),i.mc()),2&e){var n=t.value;i.Tb(1),i.ed(n)}}function b(e,t){if(1&e){var n=i.oc();i.nc(0,"p",17),i.zc("click",(function(e){return i.Uc(n),(0,t.sortFn)(e,t.sortDir,i.Dc(2).sortFn)})),i.dd(1),i.mc()}if(2&e){var o=i.Dc(2);i.Tb(1),i.fd(" ",o.model.fieldInfo("firstname").text," ")}}function h(e,t){if(1&e&&(i.nc(0,"p",18),i.dd(1),i.mc()),2&e){var n=t.value;i.Tb(1),i.ed(n)}}function v(e,t){if(1&e){var n=i.oc();i.nc(0,"p",17),i.zc("click",(function(e){return i.Uc(n),(0,t.sortFn)(e,t.sortDir,i.Dc(2).sortFn)})),i.dd(1),i.mc()}if(2&e){var o=i.Dc(2);i.Tb(1),i.fd(" ",o.model.fieldInfo("lastname").text," ")}}function I(e,t){if(1&e&&(i.nc(0,"p",18),i.dd(1),i.mc()),2&e){var n=t.value;i.Tb(1),i.ed(n)}}function w(e,t){if(1&e){var n=i.oc();i.nc(0,"p",17),i.zc("click",(function(e){return i.Uc(n),(0,t.sortFn)(e,t.sortDir,i.Dc(2).sortFn)})),i.dd(1),i.mc()}if(2&e){var o=i.Dc(2);i.Tb(1),i.fd(" ",o.model.fieldInfo("username").text," ")}}function _(e,t){if(1&e&&(i.nc(0,"p",18),i.dd(1),i.mc()),2&e){var n=t.value;i.Tb(1),i.ed(n)}}function T(e,t){if(1&e){var n=i.oc();i.nc(0,"p",17),i.zc("click",(function(e){return i.Uc(n),(0,t.sortFn)(e,t.sortDir,i.Dc(2).sortFn)})),i.dd(1),i.mc()}if(2&e){var o=i.Dc(2);i.Tb(1),i.fd(" ",o.model.fieldInfo("profile").text," ")}}function y(e,t){if(1&e&&(i.nc(0,"p",18),i.dd(1),i.mc()),2&e){var n=t.value;i.Tb(1),i.ed(n)}}function C(e,t){if(1&e){var n=i.oc();i.nc(0,"p",17),i.zc("click",(function(e){return i.Uc(n),(0,t.sortFn)(e,t.sortDir,i.Dc(2).sortFn)})),i.dd(1),i.mc()}if(2&e){var o=i.Dc(2);i.Tb(1),i.fd(" ",o.model.fieldInfo("email").text," ")}}function R(e,t){if(1&e&&(i.nc(0,"p",18),i.dd(1),i.mc()),2&e){var n=t.value;i.Tb(1),i.ed(n)}}function x(e,t){if(1&e){var n=i.oc();i.nc(0,"p",17),i.zc("click",(function(e){return i.Uc(n),(0,t.sortFn)(e,t.sortDir,i.Dc(2).sortFn)})),i.dd(1),i.mc()}if(2&e){var o=i.Dc(2);i.Tb(1),i.fd(" ",o.model.fieldInfo("user_legal_id").text," ")}}function D(e,t){if(1&e&&(i.nc(0,"p",18),i.dd(1),i.mc()),2&e){var n=t.value;i.Tb(1),i.ed(n)}}function M(e,t){if(1&e){var n=i.oc();i.nc(0,"p",17),i.zc("click",(function(e){return i.Uc(n),(0,t.sortFn)(e,t.sortDir,i.Dc(2).sortFn)})),i.dd(1),i.mc()}if(2&e){var o=i.Dc(2);i.Tb(1),i.fd(" ",o.model.fieldInfo("user_internal_id").text," ")}}function S(e,t){if(1&e&&(i.nc(0,"p",18),i.dd(1),i.mc()),2&e){var n=t.value;i.Tb(1),i.ed(n)}}function F(e,t){if(1&e){var n=i.oc();i.nc(0,"p",17),i.zc("click",(function(e){return i.Uc(n),(0,t.sortFn)(e,t.sortDir,i.Dc(2).sortFn)})),i.dd(1),i.mc()}if(2&e){var o=i.Dc(2);i.Tb(1),i.fd(" ",o.model.fieldInfo("user_photo_path").text," ")}}function z(e,t){if(1&e&&(i.nc(0,"p",18),i.dd(1),i.mc()),2&e){var n=t.value;i.Tb(1),i.fd(" ",n,"")}}var k=function(){return{emptyMessage:"Sin datos que mostrar"}};function A(e,t){if(1&e){var n=i.oc();i.nc(0,"div",2),i.nc(1,"ngx-datatable",3),i.zc("activate",(function(e){return i.Uc(n),i.Dc().onActivate(e)}))("select",(function(e){return i.Uc(n),i.Dc().onSelect(e)})),i.nc(2,"ngx-datatable-column",4),i.bd(3,p,2,1,"ng-template",5),i.bd(4,g,2,1,"ng-template",6),i.mc(),i.nc(5,"ngx-datatable-column",7),i.bd(6,b,2,1,"ng-template",5),i.bd(7,h,2,1,"ng-template",6),i.mc(),i.nc(8,"ngx-datatable-column",8),i.bd(9,v,2,1,"ng-template",5),i.bd(10,I,2,1,"ng-template",6),i.mc(),i.nc(11,"ngx-datatable-column",9),i.bd(12,w,2,1,"ng-template",5),i.bd(13,_,2,1,"ng-template",6),i.mc(),i.nc(14,"ngx-datatable-column",10),i.bd(15,T,2,1,"ng-template",5),i.bd(16,y,2,1,"ng-template",6),i.mc(),i.nc(17,"ngx-datatable-column",11),i.bd(18,C,2,1,"ng-template",5),i.bd(19,R,2,1,"ng-template",6),i.mc(),i.nc(20,"ngx-datatable-column",12),i.bd(21,x,2,1,"ng-template",5),i.bd(22,D,2,1,"ng-template",6),i.mc(),i.nc(23,"ngx-datatable-column",13),i.bd(24,M,2,1,"ng-template",5),i.bd(25,S,2,1,"ng-template",6),i.mc(),i.nc(26,"ngx-datatable-column",14),i.bd(27,F,2,1,"ng-template",5),i.bd(28,z,2,1,"ng-template",6),i.mc(),i.mc(),i.mc()}if(2&e){var o=i.Dc();i.Tb(1),i.Ic("rows",o.rows)("columnMode","force")("limit",o.rowsInTableSelected.value)("headerHeight",40)("footerHeight",50)("rowHeight",40)("scrollbarH",!0)("scrollbarV",!1)("summaryRow",!1)("summaryHeight",50)("selectionType","single")("loadingIndicator","Contactando servidor")("messages",i.Lc(17,k)),i.Tb(1),i.Ic("frozenLeft",!0),i.Tb(3),i.Ic("frozenLeft",!0),i.Tb(3),i.Ic("frozenLeft",!0),i.Tb(3),i.Ic("frozenLeft",!0)}}var E=function(){function e(){this.listAnswer=new i.t,this.model=new l.d,this.selection=new l.d,this.selected=[{selected:new l.d}]}return e.prototype.ngOnInit=function(){},e.prototype.onActivate=function(e){},e.prototype.onSelect=function(e){this.selection=e.selected[0],this.action.action="selectedRecord",this.action.temp=this.selection,localStorage.setItem("recordSelection",JSON.stringify([this.selection])),this.listAnswer.emit(this.action)},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=i.bc({type:e,selectors:[["app-system-system-user-list"]],inputs:{rows:"rows",rowsInTableSelected:"rowsInTableSelected",show_datatable:"show_datatable",action:"action"},outputs:{listAnswer:"listAnswer"},decls:2,vars:1,consts:[[1,"main"],["class","datatable",4,"ngIf"],[1,"datatable"],["data-toggle","modal","role","button","href","#content",1,"dark",3,"rows","columnMode","limit","headerHeight","footerHeight","rowHeight","scrollbarH","scrollbarV","summaryRow","summaryHeight","selectionType","loadingIndicator","messages","activate","select"],["prop","id","width","50",3,"frozenLeft"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["prop","firstname","width","100",3,"frozenLeft"],["prop","lastname","width","100",3,"frozenLeft"],["prop","username","width","100",3,"frozenLeft"],["prop","profile","width","80"],["prop","email","width","100"],["prop","user_legal_id","width","150"],["prop","user_internal_id","width","150"],["prop","user_photo_path","width","150"],[1,"izquierda-negrita",3,"click"],[1,"izquierda-negrita"],[1,"celda_derecha",3,"click"],[1,"celda_derecha_negro"]],template:function(e,t){1&e&&(i.nc(0,"main",0),i.bd(1,A,29,18,"div",1),i.mc()),2&e&&(i.Tb(1),i.Ic("ngIf",t.rows&&t.show_datatable))},directives:[o.m,c.d,c.b,c.c,c.a],styles:[".main[_ngcontent-%COMP%]{margin:10px}.datatable[_ngcontent-%COMP%]{margin-top:10px}"]}),e}();function U(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.id)}}var O=function(e){return{"is-invalid":e}};function N(e,t){if(1&e){var n=i.oc();i.nc(0,"input",47),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,O,o.f.id.errors))}}function P(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function J(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,P,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.id.errors.required)}}function L(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.firstname)}}var j=function(e){return{"is-invalfirstname":e}};function q(e,t){if(1&e){var n=i.oc();i.nc(0,"input",49),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,j,o.f.firstname.errors))}}function V(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function H(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,V,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.firstname.errors.required)}}function G(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.lastname)}}function B(e,t){if(1&e){var n=i.oc();i.nc(0,"input",50),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,O,o.f.lastname.errors))}}function K(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function Q(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,K,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.lastname.errors.required)}}function X(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.profile_json)}}function Y(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function Z(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,Y,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.profile_json.errors.required)}}function W(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.realm)}}function $(e,t){if(1&e){var n=i.oc();i.nc(0,"input",51),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,O,o.f.realm.errors))}}function ee(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function te(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,ee,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.realm.errors.required)}}function ne(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.username)}}function ie(e,t){if(1&e){var n=i.oc();i.nc(0,"input",52),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,O,o.f.username.errors))}}function oe(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function re(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,oe,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.username.errors.required)}}function ce(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.password)}}function se(e,t){if(1&e){var n=i.oc();i.nc(0,"input",53),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,O,o.f.password.errors))}}function ae(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function de(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,ae,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.password.errors.required)}}function le(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.email)}}function fe(e,t){if(1&e){var n=i.oc();i.nc(0,"input",54),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,O,o.f.email.errors))}}function me(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function ue(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,me,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.email.errors.required)}}function pe(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.emailVerified)}}function ge(e,t){if(1&e){var n=i.oc();i.nc(0,"input",55),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,O,o.f.emailVerified.errors))}}function be(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function he(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,be,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.emailVerified.errors.required)}}function ve(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.verificationToken)}}function Ie(e,t){if(1&e){var n=i.oc();i.nc(0,"input",56),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,O,o.f.verificationToken.errors))}}function we(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function _e(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,we,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.verificationToken.errors.required)}}function Te(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.memberId)}}function ye(e,t){if(1&e){var n=i.oc();i.nc(0,"input",57),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,O,o.f.memberId.errors))}}function Ce(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function Re(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,Ce,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.memberId.errors.required)}}function xe(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.user_legal_id)}}function De(e,t){if(1&e){var n=i.oc();i.nc(0,"input",58),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,O,o.f.user_legal_id.errors))}}function Me(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function Se(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,Me,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.user_legal_id.errors.required)}}function Fe(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.user_internal_id)}}function ze(e,t){if(1&e){var n=i.oc();i.nc(0,"input",59),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,O,o.f.user_internal_id.errors))}}function ke(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function Ae(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,ke,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.user_internal_id.errors.required)}}function Ee(e,t){if(1&e&&(i.nc(0,"div"),i.nc(1,"p",46),i.dd(2),i.mc(),i.mc()),2&e){var n=i.Dc(2);i.Tb(2),i.ed(n.selection.user_photo_path)}}function Ue(e,t){if(1&e){var n=i.oc();i.nc(0,"input",60),i.zc("change",(function(){return i.Uc(n),i.Dc(2).onRecordJsonChange()})),i.mc()}if(2&e){var o=i.Dc(2);i.Ic("ngClass",i.Mc(1,O,o.f.user_photo_path.errors))}}function Oe(e,t){1&e&&(i.nc(0,"div"),i.dd(1," Este dato es obligatorio "),i.mc())}function Ne(e,t){if(1&e&&(i.nc(0,"div",48),i.bd(1,Oe,2,0,"div",10),i.mc()),2&e){var n=i.Dc(2);i.Tb(1),i.Ic("ngIf",n.f.user_photo_path.errors.required)}}function Pe(e,t){if(1&e){var n=i.oc();i.nc(0,"button",61),i.zc("click",(function(){return i.Uc(n),i.Dc(2).onReset()})),i.dd(1," Reiniciar "),i.mc()}}function Je(e,t){if(1&e){var n=i.oc();i.nc(0,"button",62),i.zc("click",(function(){return i.Uc(n),i.Dc(2).onDelete()})),i.dd(1," Eliminar "),i.mc()}}function Le(e,t){if(1&e){var n=i.oc();i.nc(0,"button",62),i.zc("click",(function(){return i.Uc(n),i.Dc(2).onDeactivate()})),i.dd(1," Desactivar "),i.mc()}}function je(e,t){if(1&e){var n=i.oc();i.nc(0,"button",63),i.zc("click",(function(){return i.Uc(n),i.Dc(2).onReactivate()})),i.dd(1," Reactivar "),i.mc()}}function qe(e,t){if(1&e){var n=i.oc();i.nc(0,"section",2),i.nc(1,"div",3),i.nc(2,"div",4),i.ic(3,"h3",5),i.nc(4,"form",6),i.nc(5,"div",7),i.nc(6,"div",8),i.nc(7,"label",9),i.dd(8),i.mc(),i.bd(9,U,3,1,"div",10),i.bd(10,N,1,3,"input",11),i.bd(11,J,2,1,"div",12),i.mc(),i.nc(12,"div",13),i.nc(13,"label",9),i.dd(14),i.mc(),i.bd(15,L,3,1,"div",10),i.bd(16,q,1,3,"input",14),i.bd(17,H,2,1,"div",12),i.mc(),i.nc(18,"div",15),i.nc(19,"label",9),i.dd(20),i.mc(),i.bd(21,G,3,1,"div",10),i.bd(22,B,1,3,"input",16),i.bd(23,Q,2,1,"div",12),i.mc(),i.nc(24,"div",17),i.nc(25,"label",9),i.dd(26," Perfil "),i.mc(),i.bd(27,X,3,1,"div",10),i.nc(28,"div",18),i.nc(29,"ng-select",19),i.zc("change",(function(){return i.Uc(n),i.Dc().onRecordJsonChange()}))("change",(function(){return i.Uc(n),i.Dc().onRecordJsonChange()})),i.mc(),i.mc(),i.bd(30,Z,2,1,"div",12),i.mc(),i.nc(31,"div",20),i.nc(32,"label",9),i.dd(33),i.mc(),i.bd(34,W,3,1,"div",10),i.bd(35,$,1,3,"input",21),i.bd(36,te,2,1,"div",12),i.mc(),i.nc(37,"div",22),i.nc(38,"label",9),i.dd(39),i.mc(),i.bd(40,ne,3,1,"div",10),i.bd(41,ie,1,3,"input",23),i.bd(42,re,2,1,"div",12),i.mc(),i.nc(43,"div",24),i.nc(44,"label",9),i.dd(45),i.mc(),i.bd(46,ce,3,1,"div",10),i.bd(47,se,1,3,"input",25),i.bd(48,de,2,1,"div",12),i.mc(),i.nc(49,"div",26),i.nc(50,"label",9),i.dd(51),i.mc(),i.bd(52,le,3,1,"div",10),i.bd(53,fe,1,3,"input",27),i.bd(54,ue,2,1,"div",12),i.mc(),i.nc(55,"div",28),i.nc(56,"label",9),i.dd(57),i.mc(),i.bd(58,pe,3,1,"div",10),i.bd(59,ge,1,3,"input",29),i.bd(60,he,2,1,"div",12),i.mc(),i.nc(61,"div",30),i.nc(62,"label",9),i.dd(63),i.mc(),i.bd(64,ve,3,1,"div",10),i.bd(65,Ie,1,3,"input",31),i.bd(66,_e,2,1,"div",12),i.mc(),i.nc(67,"div",32),i.nc(68,"label",9),i.dd(69),i.mc(),i.bd(70,Te,3,1,"div",10),i.bd(71,ye,1,3,"input",33),i.bd(72,Re,2,1,"div",12),i.mc(),i.nc(73,"div",34),i.nc(74,"label",9),i.dd(75),i.mc(),i.bd(76,xe,3,1,"div",10),i.bd(77,De,1,3,"input",35),i.bd(78,Se,2,1,"div",12),i.mc(),i.nc(79,"div",36),i.nc(80,"label",9),i.dd(81),i.mc(),i.bd(82,Fe,3,1,"div",10),i.bd(83,ze,1,3,"input",37),i.bd(84,Ae,2,1,"div",12),i.mc(),i.nc(85,"div",38),i.nc(86,"label",9),i.dd(87),i.mc(),i.bd(88,Ee,3,1,"div",10),i.bd(89,Ue,1,3,"input",39),i.bd(90,Ne,2,1,"div",12),i.mc(),i.mc(),i.nc(91,"article",40),i.nc(92,"div"),i.nc(93,"button",41),i.zc("click",(function(){return i.Uc(n),i.Dc().onCancel()})),i.dd(94," Cancelar "),i.mc(),i.mc(),i.nc(95,"div"),i.bd(96,Pe,2,0,"button",42),i.mc(),i.nc(97,"div"),i.bd(98,Je,2,0,"button",43),i.mc(),i.nc(99,"div"),i.bd(100,Le,2,0,"button",43),i.mc(),i.nc(101,"div"),i.bd(102,je,2,0,"button",44),i.mc(),i.nc(103,"div"),i.nc(104,"button",45),i.zc("click",(function(){i.Uc(n);var e=i.Dc();return e.onSubmit(e.registerForm.value)})),i.dd(105," Guardar "),i.mc(),i.mc(),i.mc(),i.mc(),i.mc(),i.mc(),i.mc()}if(2&e){var o=i.Dc();i.Tb(4),i.Ic("formGroup",o.registerForm),i.Tb(4),i.fd(" ",o.model.fieldInfo("id").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.id.dirty&&o.f.id.errors),i.Tb(3),i.fd(" ",o.model.fieldInfo("firstname").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.firstname.dirty&&o.f.firstname.errors),i.Tb(3),i.fd(" ",o.model.fieldInfo("lastname").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.lastname.dirty&&o.f.lastname.errors),i.Tb(4),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(2),i.Ic("items",o.typeList)("dropdownPosition","auto")("searchable",!1)("clearable",!1)("multiple",!1),i.Tb(1),i.Ic("ngIf",o.f.profile_json.dirty&&o.f.profile_json.errors),i.Tb(3),i.fd(" ",o.model.fieldInfo("realm").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.realm.dirty&&o.f.realm.errors),i.Tb(3),i.fd(" ",o.model.fieldInfo("username").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.username.dirty&&o.f.username.errors),i.Tb(3),i.fd(" ",o.model.fieldInfo("password").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.password.dirty&&o.f.password.errors),i.Tb(3),i.fd(" ",o.model.fieldInfo("email").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.email.dirty&&o.f.email.errors),i.Tb(3),i.fd(" ",o.model.fieldInfo("emailVerified").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.emailVerified.dirty&&o.f.emailVerified.errors),i.Tb(3),i.fd(" ",o.model.fieldInfo("verificationToken").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.verificationToken.dirty&&o.f.verificationToken.errors),i.Tb(3),i.fd(" ",o.model.fieldInfo("memberId").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.memberId.dirty&&o.f.memberId.errors),i.Tb(3),i.fd(" ",o.model.fieldInfo("user_legal_id").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.user_legal_id.dirty&&o.f.user_legal_id.errors),i.Tb(3),i.fd(" ",o.model.fieldInfo("user_internal_id").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.user_internal_id.dirty&&o.f.user_internal_id.errors),i.Tb(3),i.fd(" ",o.model.fieldInfo("user_photo_path").text," "),i.Tb(1),i.Ic("ngIf","showRecord"===o.action.action),i.Tb(1),i.Ic("ngIf","showRecord"!==o.action.action),i.Tb(1),i.Ic("ngIf",o.f.user_photo_path.dirty&&o.f.user_photo_path.errors),i.Tb(6),i.Ic("ngIf","newRecord"===o.action.action),i.Tb(2),i.Ic("ngIf","editRecord"===o.action.action),i.Tb(2),i.Ic("ngIf","editRecord"===o.action.action&&"A"===o.selection.inv_agent_status),i.Tb(2),i.Ic("ngIf","editRecord"===o.action.action&&"I"===o.selection.inv_agent_status)}}var Ve=function(){function e(e,t,n,o,r){this.formBuilder=e,this.userbaseService=t,this.roleMappingService=n,this.alertService=o,this.envService=r,this.editAnswer=new i.t,this.sendAnswer=new i.t,this.error_detected=!1,this.alertMessage=new l.b,this.show_submit_button=!1,this.show_data=!0,this.model=new l.d}return e.prototype.ngOnInit=function(){console.log("HOLA"),this.getRoles(),this.selection=JSON.parse(localStorage.getItem("recordSelection"))[0],this.onFillForm()},e.prototype.onFillForm=function(){"newRecord"===this.action.action&&(this.selection=new l.d),this.registerForm=this.formBuilder.group({id:[this.selection.id],firstname:[this.selection.firstname],lastname:[this.selection.lastname],profile:[this.selection.profile],realm:[this.selection.realm],username:[this.selection.username,r.p.required],password:[this.selection.password,r.p.required],email:[this.selection.email,r.p.required],emailVerified:[this.selection.emailVerified],verificationToken:[this.selection.verificationToken],memberId:[this.selection.memberId],user_legal_id:[this.selection.user_legal_id],user_internal_id:[this.selection.user_internal_id],user_photo_path:[this.selection.user_photo_path],profile_json:[this.selection.profile_json],roles:[this.selection.roles],emailVerified_json:[this.selection.emailVerified_json]})},Object.defineProperty(e.prototype,"f",{get:function(){return this.registerForm.controls},enumerable:!0,configurable:!0}),e.prototype.onAnswer=function(e){this.action=e,this.selection=this.action.temp,"showRecord"===this.action.action&&this.onShowDetail(),"editRecord"===this.action.action&&this.onEditRecord()},e.prototype.createRecord=function(e){var t=this;this.selection=this.registerForm.value;var n=this.registerForm.value;delete n.id,this.userbaseService.postRecord(n).subscribe((function(e){alert("Registro agregado satisfactoriamente, "+e.id+", "+e.username),t.action.temp=[e],t.user=e.id,t.role=e.profile,t.roleCode=t.roleAssignation(t.role),t.createRoleMapping(t.roleCode,t.user),t.action.action="afterCreatedRecord",t.editAnswer.emit(t.action),t.registerForm.value.password="********",localStorage.setItem("recordSelection",JSON.stringify([t.registerForm.value]))}),(function(e){console.error("Error",e),t.show_data=!1,t.onError(e)}))},e.prototype.editRecord=function(e){var t=this;this.selection=this.registerForm.value;var n=this.registerForm.value;"********"===n.password&&(n.password=null),this.userbaseService.patchRecord(n).subscribe((function(e){t.selection=e,t.action.temp=e,t.roleAssignation(e.profile),t.roleMappingService.findOneRecord(e).subscribe((function(e){t.roleMappingService.patchRecord(t.selection).subscribe((function(e){}))})),alert("Registro modificado satisfactoriamente, "+t.action.temp.id+", "+t.action.temp.username),t.registerForm.value.password="*******",localStorage.setItem("recordSelection",JSON.stringify([t.registerForm.value])),t.action.action="selectedRecord",t.show_data=!0,t.editAnswer.emit(t.action)}),(function(e){console.error("Error",e),t.show_data=!1,t.onError(e)}))},e.prototype.deleteRecord=function(e){var t=this,n=this.action.temp.id;this.userbaseService.deleteRecord(n).subscribe((function(e){t.selection=e,t.action.temp=t.selection,t.selection=new l.d,t.onFillForm(),alert("Registro eliminado satisfactoriamente"),t.show_data=!0,t.editAnswer.emit(t.action)}),(function(e){console.error("Error",e),t.show_data=!1,t.onError(e)})),this.deleteRoleMapping(n)},e.prototype.onFindRoleMapping=function(e){this.roleMappingService.findOneRecord(e).subscribe((function(e){console.warn("rolMap",e)}))},e.prototype.onDelete=function(){this.action.action="delete",this.deleteRecord(this.action.temp)},e.prototype.onDeactivate=function(){this.selection=this.action.temp,this.selection.inv_agent_status="I",this.registerForm.value.inv_agent_status="I",this.show_submit_button=!0},e.prototype.onReactivate=function(){this.selection=this.action.temp,this.selection.inv_agent_status="A",this.registerForm.value.inv_agent_status="A",console.error("onReactivate",this.registerForm.value),this.show_submit_button=!0},e.prototype.onReset=function(){this.selection=new l.d,this.action.temp=this.selection,this.onFillForm()},e.prototype.afterCreatedRecord=function(e){},e.prototype.onShowDetail=function(){this.action.action="showRecord"},e.prototype.onEditRecord=function(){this.action.action="editRecord",this.selection=this.action.temp,this.onFillForm()},e.prototype.afterEditedRecord=function(e){this.action.action="afterEditedRecord",this.action.temp=[e],this.editAnswer.emit(this.action)},e.prototype.onCancel=function(){this.action={action:"cancel",temp:""},this.editAnswer.emit(this.action)},e.prototype.onAction=function(){this.action={action:"edit_box",temp:""},this.editAnswer.emit(this.action)},e.prototype.onError=function(e){this.alertService.error(e.status),this.alertMessage.alertTitle="Error del servidor",this.alertMessage.alertText=e.statusText,this.alertMessage.alertShow=!0,this.alertMessage.alertClass="alert alert-danger alert-dismissible fade show"},e.prototype.sendTest=function(){this.action.action="test",this.action.temp=[{inv_agent_id:2,inv_agent_name:"Supervisor 008",inv_agent_status:"A"}],this.editAnswer.emit(this.action)},e.prototype.onRecordJsonChange=function(){var e=this.registerForm.value;this.registerForm.patchValue({profile:this.registerForm.value.profile_json.name}),e.password="********",localStorage.setItem("recordSelection",JSON.stringify([e]))},e.prototype.onSubmit=function(e){"newRecord"===this.action.action&&this.createRecord(e),"editRecord"===this.action.action&&(this.selection=e,this.editRecord(e),this.afterEditedRecord(e)),"deleteRecord"===this.action.action&&(this.selection=e,this.deleteRecord(e),this.editAnswer.emit(this.action)),"showRecord"===this.action.action&&(this.selection=e,this.action.temp=e,this.editAnswer.emit(this.action))},e.prototype.createRoleMapping=function(e,t){this.roleMappingService.postRecord({principalType:"USER",principalId:t,roleId:e}).subscribe((function(e){return e}))},e.prototype.editRoleMapping=function(e){},e.prototype.deleteRoleMapping=function(e){var t=this;this.roleMappingService.findOneRecord(e).subscribe((function(n){t.roleMappingService.deleteRecord(e=n.id).subscribe((function(e){return e}))}),(function(e){console.error("Error",e),t.show_data=!1,t.onError(e)}))},e.prototype.getRoles=function(){var e=this;this.roleMappingService.getRoles().subscribe((function(t){e.roles=t,e.typeList=t}),(function(t){console.error("Error",t),e.show_data=!1,e.onError(t)}))},e.prototype.getExistingRoleMapping=function(e){var t=this;this.roleMappingService.getExistingRoleMapping(e).subscribe((function(e){return e}),(function(e){console.error("Error",e),t.show_data=!1,t.onError(e)}))},e.prototype.roleAssignation=function(e){var t=null;return e&&this.roles&&(t=this.roles.filter((function(t){return t.name=e})).map((function(e){return e.id}))),t},e.ɵfac=function(t){return new(t||e)(i.hc(r.c),i.hc(m.f),i.hc(m.d),i.hc(m.a),i.hc(m.c))},e.ɵcmp=i.bc({type:e,selectors:[["app-system-system-user-detail"]],inputs:{action:"action"},outputs:{editAnswer:"editAnswer",sendAnswer:"sendAnswer"},decls:2,vars:2,consts:[[3,"alertMessage"],["id","register","class","register",4,"ngIf"],["id","register",1,"register"],[1,"card","mt-3"],[1,"card-body"],[1,"h2","mb-3","font-weight-normal","text-center"],[3,"formGroup"],[1,"register-form"],["id","id",1,"form-group"],[1,"register-label"],[4,"ngIf"],["type","text","formControlName","id","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],["class","register-error",4,"ngIf"],["firstname","firstname",1,"form-group"],["type","text","formControlName","firstname","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],["lastname","lastname",1,"form-group"],["type","text","formControlName","lastname","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],["profile_json","profile_json",1,"form-group"],[1,"form-control","register-input"],["bindLabel","name","placeholder","Perfil","hideSelected","true","formControlName","profile_json",3,"items","dropdownPosition","searchable","clearable","multiple","change"],["realm","realm",1,"form-group"],["type","text","formControlName","realm","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],["username","username",1,"form-group"],["type","text","formControlName","username","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],["password","password",1,"form-group"],["type","text","formControlName","password","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],["email","email",1,"form-group"],["type","text","formControlName","email","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],["emailVerified","emailVerified",1,"form-group"],["type","text","formControlName","emailVerified","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],["verificationToken","verificationToken",1,"form-group"],["type","text","formControlName","verificationToken","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],["memberId","memberId",1,"form-group"],["type","text","formControlName","memberId","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],["user_legal_id","user_legal_id",1,"form-group"],["type","text","formControlName","user_legal_id","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],["user_internal_id","user_internal_id",1,"form-group"],["type","text","formControlName","user_internal_id","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],["user_photo_path","user_photo_path",1,"form-group"],["type","text","formControlName","user_photo_path","class","form-control register-input disabled",3,"ngClass","change",4,"ngIf"],[1,"form-group","mt-3","mb-0","mr-auto","register-button-group"],["type","button",1,"btn","btn-warning","register-button",3,"click"],["type","button","class","btn btn-secondary  register-button",3,"click",4,"ngIf"],["type","button","class","btn btn-danger  register-button",3,"click",4,"ngIf"],["type","button","class","btn btn-primary  register-button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success","register-button",3,"click"],[1,"register-detail"],["type","text","formControlName","id",1,"form-control","register-input","disabled",3,"ngClass","change"],[1,"register-error"],["type","text","formControlName","firstname",1,"form-control","register-input","disabled",3,"ngClass","change"],["type","text","formControlName","lastname",1,"form-control","register-input","disabled",3,"ngClass","change"],["type","text","formControlName","realm",1,"form-control","register-input","disabled",3,"ngClass","change"],["type","text","formControlName","username",1,"form-control","register-input","disabled",3,"ngClass","change"],["type","text","formControlName","password",1,"form-control","register-input","disabled",3,"ngClass","change"],["type","text","formControlName","email",1,"form-control","register-input","disabled",3,"ngClass","change"],["type","text","formControlName","emailVerified",1,"form-control","register-input","disabled",3,"ngClass","change"],["type","text","formControlName","verificationToken",1,"form-control","register-input","disabled",3,"ngClass","change"],["type","text","formControlName","memberId",1,"form-control","register-input","disabled",3,"ngClass","change"],["type","text","formControlName","user_legal_id",1,"form-control","register-input","disabled",3,"ngClass","change"],["type","text","formControlName","user_internal_id",1,"form-control","register-input","disabled",3,"ngClass","change"],["type","text","formControlName","user_photo_path",1,"form-control","register-input","disabled",3,"ngClass","change"],["type","button",1,"btn","btn-secondary","register-button",3,"click"],["type","button",1,"btn","btn-danger","register-button",3,"click"],["type","button",1,"btn","btn-primary","register-button",3,"click"]],template:function(e,t){1&e&&(i.ic(0,"app-alert",0),i.bd(1,qe,106,64,"section",1)),2&e&&(i.Ic("alertMessage",t.alertMessage),i.Tb(1),i.Ic("ngIf",t.action&&t.show_data))},directives:[u.a,o.m,r.r,r.k,r.e,s.a,r.j,r.d,r.b,o.k],styles:[".register[_ngcontent-%COMP%]{min-width:1000px}.register-form[_ngcontent-%COMP%]{background:#add8e6;padding:1rem;display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:1rem}.register-error[_ngcontent-%COMP%]{color:red;font-size:.8rem}.register-label[_ngcontent-%COMP%]{padding:0;font-size:1rem;color:#00008b;margin-top:1px}.register-selector[_ngcontent-%COMP%]{color:red;width:150px;font-size:1rem;margin-bottom:0}.register-input[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin-bottom:0;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.register-detail[_ngcontent-%COMP%]{min-height:40px;font-size:1rem;margin-bottom:0;background:#161638;color:#fff;padding:5px;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.register-button-group[_ngcontent-%COMP%]{display:flex;flex-direction:row}.register-button[_ngcontent-%COMP%]{font-size:1.1rem;margin-left:3px}.register-login-text[_ngcontent-%COMP%]{padding:5px;font-size:1.1rem}.main[_ngcontent-%COMP%]{margin:10px}@media screen and (max-width:576px){.register-form[_ngcontent-%COMP%]{padding:1rem;display:grid;grid-template-columns:1fr;grid-gap:1rem}}.submenu[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 4fr;grid-gap:1rem}.submenu-btn[_ngcontent-%COMP%]{font-size:.8rem;margin:10px;padding:2px 10px}.submenu-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.submenu-buttons2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr 1fr 1fr;grid-gap:1rem}"]}),e}();function He(e,t){if(1&e){var n=i.oc();i.nc(0,"a",13),i.zc("click",(function(){return i.Uc(n),i.Dc().onNewRecord()})),i.dd(1," Nuevo"),i.mc()}}function Ge(e,t){if(1&e){var n=i.oc();i.nc(0,"a",5),i.zc("click",(function(){return i.Uc(n),i.Dc().onShowDetail()})),i.dd(1,"Detalle"),i.mc()}}function Be(e,t){if(1&e){var n=i.oc();i.nc(0,"a",13),i.zc("click",(function(){return i.Uc(n),i.Dc().onEditRecord()})),i.dd(1," Editar"),i.mc()}}function Ke(e,t){if(1&e){var n=i.oc();i.nc(0,"section"),i.nc(1,"app-system-system-user-list",14),i.zc("listAnswer",(function(e){return i.Uc(n),i.Dc().onlistAnswer(e)})),i.mc(),i.mc()}if(2&e){var o=i.Dc();i.Tb(1),i.Ic("rows",o.rows)("rowsInTableSelected",o.rowsInTableSelected)("show_datatable",o.show_datatable)("action",o.action)}}function Qe(e,t){if(1&e){var n=i.oc();i.nc(0,"section"),i.nc(1,"app-system-system-user-detail",15),i.zc("editAnswer",(function(e){return i.Uc(n),i.Dc().onlistAnswer(e)})),i.mc(),i.mc()}if(2&e){var o=i.Dc();i.Tb(1),i.Ic("action",o.action)}}var Xe=function(){function e(e,t,n){this.userbaseService=e,this.alertService=t,this.envService=n,this.mainAnswer=new i.t,this.error_detected=!1,this.alertMessage=new l.b,this.show_data=!0,this.show_datatable=!0,this.show_new_button=!0,this.show_selected_button=!1,this.selection=new l.d,this.action=new l.a,this.excel_subtitle="usuarios",this.selected=[{selected:new l.d}],this.rowsInTableList=[{id:1,value:1},{id:10,value:10},{id:15,value:15}],this.rowsInTableSelected={id:10,value:10},this.filterFieldList=this.selection.fieldList(),this.selectedFilterField={field_name:"firstname",name:"nombre",text:"nombre"}}return e.prototype.ngOnInit=function(){this.onGetAll()},e.prototype.onlistAnswer=function(e){e&&(this.selection=e,this.show_selected_button=!0),"cancel"===e.action&&this.onCancel(e),"afterCreatedRecord"===e.action&&this.onAfterCreatedRecord(e),"afterEditedRecord"===e.action&&this.onAfterEditedRecord(e),"editRecord"===e.action&&this.onFindById(e),"delete"===e.action&&this.onCancel(e),"test"===e.action&&this.test(e)},e.prototype.getAll_Records=function(e){var t=this;this.userbaseService.getAllRecords(e).subscribe((function(e){var n=e.map((function(e){return{id:e.id,firstname:e.firstname,lastname:e.lastname,profile:e.profile,realm:e.realm,username:e.username,password:e.password,email:e.email,emailVerified:e.emailVerified,verificationToken:e.verificationToken,memberId:e.memberId,user_legal_id:e.user_legal_id,user_internal_id:e.user_internal_id,user_photo_path:e.user_photo_path,roles:e.roles,roleMapping:e.roles,profile_json:e.roles,emailVerified_json:{id:0,name:e.emailVerified}}}));t.rows=n,t.rows_original=n,t.alertMessage=new l.b,t.show_data=!0}),(function(e){t.show_data=!1,t.onError(e)}))},e.prototype.getSingle_Record=function(e){var t=this;this.rows=[e.temp],this.userbaseService.getRecordById(e.temp.inv_agent_id).subscribe((function(e){var n=[e];t.rows_original=n,t.rows=n,t.action.temp=n,t.alertMessage=new l.b,t.show_data=!0}),(function(e){t.show_data=!1,t.onError(e)}))},e.prototype.onGetAll=function(e){this.show_datatable=!0,this.show_selected_button=!1,this.selection=new l.d,this.query="",this.getAll_Records(this.query)},e.prototype.onNewRecord=function(e){this.show_datatable=!1,this.show_selected_button=!1,this.action.action="newRecord";var t=new l.d;localStorage.setItem("recordSelection",JSON.stringify([t]))},e.prototype.onEditRecord=function(e){this.show_datatable=!1,this.action.action="editRecord"},e.prototype.onAfterCreatedRecord=function(e){this.rows=JSON.parse(localStorage.getItem("recordSelection")),this.show_datatable=!0},e.prototype.onAfterEditedRecord=function(e){JSON.parse(localStorage.getItem("recordSelection")),this.rows=JSON.parse(localStorage.getItem("recordSelection")),this.show_datatable=!0},e.prototype.onShowDetail=function(e){this.show_datatable=!1,this.action.action="showRecord"},e.prototype.onItemListSelected=function(e){this.show_datatable=!0,this.rowsInTableSelected=e},e.prototype.onFilterFieldList=function(){this.action={action:"rowsInTableSelected",temp:{lines:this.rowsInTableSelected}},this.onGetAll()},e.prototype.onCancel=function(e){event&&(this.show_datatable=!this.show_datatable,this.onGetAll())},e.prototype.onUpdateFilter=function(e){this.show_datatable=!0;var t=Object(f.c)(e,this.rows,this.rows_original,this.selectedFilterField.field_name);this.rows=t},e.prototype.onFindById=function(e){this.getSingle_Record(e),this.action.action="selectedRecord",this.show_datatable=!0},e.prototype.onActivate=function(e){},e.prototype.onSelect=function(e){this.show_selected_button=!0,this.selection=e.selected[0]},e.prototype.onError=function(e){this.alertService.error(e.status),this.alertMessage.alertTitle="Error del servidor",this.alertMessage.alertText=e.statusText,this.alertMessage.alertShow=!0,this.alertMessage.alertClass="alert alert-danger alert-dismissible fade show"},e.prototype.onExportToExcel=function(e,t){this.show_datatable=!0,e.map((function(e){return{id:e.id,nombre:e.firstname,apellido:e.lastname,perfil:e.profile,usuario:e.username,email:e.email,cedula:e.user_legal_id,numero_interno:e.user_internal_id}}))},e.prototype.test=function(e){this.rows=e.temp,this.show_datatable=!0},e.ɵfac=function(t){return new(t||e)(i.hc(m.f),i.hc(m.a),i.hc(m.c))},e.ɵcmp=i.bc({type:e,selectors:[["app-system-system-user"]],outputs:{mainAnswer:"mainAnswer"},decls:25,vars:15,consts:[[3,"alertMessage"],[1,"main"],["id","submenu",1,"submenu"],[1,"submenu-buttons"],[1,"btn","btn-secondary","submenu-btn","text-white",3,"click"],[1,"btn","btn-outline-primary","submenu-btn",3,"click"],["class","btn btn-outline-success submenu-btn",3,"click",4,"ngIf"],["class","btn btn-outline-primary submenu-btn",3,"click",4,"ngIf"],["id","right-menu",1,"submenu-buttons","ml-auto"],["bindLabel","name","hideSelected","true","placeholder","items-",3,"items","clearable","dropdownPosition","ngModel","change","ngModelChange"],["type","text","placeholder","Buscar...",3,"ngModel","ngModelChange","keyup"],["bindLabel","value","hideSelected","true","placeholder","items-",3,"items","clearable","dropdownPosition","ngModel","ngModelChange"],[4,"ngIf"],[1,"btn","btn-outline-success","submenu-btn",3,"click"],[3,"rows","rowsInTableSelected","show_datatable","action","listAnswer"],[3,"action","editAnswer"]],template:function(e,t){1&e&&(i.ic(0,"app-alert",0),i.nc(1,"main",1),i.nc(2,"section",2),i.nc(3,"article",3),i.nc(4,"div"),i.nc(5,"a",4),i.zc("click",(function(){return t.onGetAll()})),i.dd(6,"Usuarios"),i.mc(),i.mc(),i.nc(7,"div"),i.nc(8,"a",5),i.zc("click",(function(){return t.onGetAll()})),i.dd(9,"Todos"),i.mc(),i.mc(),i.nc(10,"div"),i.bd(11,He,2,0,"a",6),i.mc(),i.nc(12,"div"),i.bd(13,Ge,2,0,"a",7),i.mc(),i.nc(14,"div"),i.bd(15,Be,2,0,"a",6),i.mc(),i.mc(),i.nc(16,"article",8),i.nc(17,"div"),i.nc(18,"a",5),i.zc("click",(function(){return t.onExportToExcel(t.rows,t.excel_subtitle)})),i.dd(19," Exportar a excel "),i.mc(),i.mc(),i.nc(20,"ng-select",9),i.zc("change",(function(){return t.onFilterFieldList()}))("ngModelChange",(function(e){return t.selectedFilterField=e})),i.mc(),i.nc(21,"input",10),i.zc("ngModelChange",(function(e){return t.findInList=e}))("keyup",(function(){return t.onUpdateFilter(t.findInList)})),i.mc(),i.nc(22,"ng-select",11),i.zc("ngModelChange",(function(e){return t.rowsInTableSelected=e})),i.mc(),i.mc(),i.mc(),i.mc(),i.bd(23,Ke,2,4,"section",12),i.bd(24,Qe,2,1,"section",12)),2&e&&(i.Ic("alertMessage",t.alertMessage),i.Tb(11),i.Ic("ngIf",t.show_new_button),i.Tb(2),i.Ic("ngIf",t.show_selected_button),i.Tb(2),i.Ic("ngIf",t.show_selected_button),i.Tb(5),i.Ic("items",t.filterFieldList)("clearable",!1)("dropdownPosition","bottom")("ngModel",t.selectedFilterField),i.Tb(1),i.Ic("ngModel",t.findInList),i.Tb(1),i.Ic("items",t.rowsInTableList)("clearable",!1)("dropdownPosition","bottom")("ngModel",t.rowsInTableSelected),i.Tb(1),i.Ic("ngIf",t.show_datatable&&t.show_data),i.Tb(1),i.Ic("ngIf",!t.show_datatable&&t.show_data))},directives:[u.a,o.m,s.a,r.j,r.m,r.b,E,Ve],styles:[".submenu[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;font-size:1rem}.submenu-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.submenu-brand[_ngcontent-%COMP%]{font-size:1rem;color:#007bff}.submenu-btn[_ngcontent-%COMP%]{font-size:1rem;margin-right:3px}.main[_ngcontent-%COMP%]{margin:10px}.datatable[_ngcontent-%COMP%]{margin-top:10px}"]}),e}(),Ye=[{path:"",component:Xe,children:[{path:"",redirectTo:"menu"},{path:"menu",component:Xe}]}],Ze=function(){function e(){}return e.ɵmod=i.fc({type:e}),e.ɵinj=i.ec({factory:function(t){return new(t||e)},imports:[[d.e.forChild(Ye)],d.e]}),e}();n.d(t,"SystemUserModule",(function(){return We}));var We=function(){function e(){}return e.ɵmod=i.fc({type:e}),e.ɵinj=i.ec({factory:function(t){return new(t||e)},imports:[[o.c,c.e,s.b,r.f,r.o,a.a,Ze]]}),e}()}}]);
//# sourceMappingURL=8.52512763e53ece4836da.js.map